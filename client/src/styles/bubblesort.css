@tailwind base;
@tailwind components;
@tailwind utilities;

/* Bubble Sort Visualizer Design System - All colors MUST be HSL */

@layer base {
  :root {
    /* Core Colors */
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    
    /* Primary - Vibrant Blue-Purple Gradient */
    --primary: 258 89% 66%;
    --primary-glow: 280 100% 75%;
    --primary-dark: 258 89% 55%;
    --primary-foreground: 0 0% 98%;
    
    /* Secondary - Coral/Orange Accent */
    --secondary: 25 95% 68%;
    --secondary-glow: 35 100% 75%;
    --secondary-foreground: 0 0% 98%;
    
    /* Sorting States */
    --comparing: 45 93% 65%;
    --swapping: 350 85% 68%;
    --sorted: 120 60% 60%;
    --unsorted: 220 15% 25%;
    
    /* Binary Search States */
    --searching: 200 85% 70%;
    --target: 330 80% 65%;
    --found: 120 70% 55%;
    --eliminated: 0 0% 40%;
    --bounds: 280 90% 70%;
    
    /* Card & Surface */
    --card: 240 10% 7%;
    --card-foreground: 0 0% 98%;
    --card-border: 240 10% 15%;
    
    /* Accents */
    --accent: 280 100% 75%;
    --accent-foreground: 0 0% 98%;
    
    /* Interactive Elements */
    --muted: 240 10% 15%;
    --muted-foreground: 240 5% 65%;
    
    /* Borders & Inputs */
    --border: 240 10% 20%;
    --input: 240 10% 15%;
    --ring: 258 89% 66%;
    
    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
    --gradient-secondary: linear-gradient(135deg, hsl(var(--secondary)), hsl(var(--secondary-glow)));
    --gradient-background: linear-gradient(180deg, hsl(var(--background)), hsl(240 10% 6%));
    
    /* Shadows */
    --shadow-glow: 0 0 40px hsl(var(--primary) / 0.3);
    --shadow-card: 0 10px 30px hsl(0 0% 0% / 0.5);
    
    /* Animation */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    --radius: 0.75rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    background: var(--gradient-background);
    font-family: 'Inter', system-ui, sans-serif;
  }
}

@layer components {
  /* Array Element Animations */
  .array-element {
    @apply transform transition-all duration-500 ease-in-out;
    @apply hover:scale-105;
  }
  
  .array-element.comparing {
    @apply bg-gradient-to-br from-[hsl(var(--comparing))] to-[hsl(var(--comparing)/0.8)];
    box-shadow: 0 0 20px hsl(var(--comparing) / 0.5);
    transform: translateY(-4px) scale(1.05);
  }
  
  .array-element.swapping {
    @apply bg-gradient-to-br from-[hsl(var(--swapping))] to-[hsl(var(--swapping)/0.8)];
    box-shadow: 0 0 20px hsl(var(--swapping) / 0.5);
    transform: translateY(-8px) scale(1.1);
    animation: pulse 0.6s ease-in-out;
  }
  
  .array-element.sorted {
    @apply bg-gradient-to-br from-[hsl(var(--sorted))] to-[hsl(var(--sorted)/0.8)];
    box-shadow: 0 0 15px hsl(var(--sorted) / 0.4);
  }
  
  .array-element.unsorted {
    @apply bg-gradient-to-br from-[hsl(var(--unsorted))] to-[hsl(var(--unsorted)/0.8)];
    @apply text-[hsl(var(--foreground))] border border-[hsl(var(--border))];
  }
  
  /* Binary Search Element States */
  .array-element.searching {
    @apply bg-gradient-to-br from-[hsl(var(--searching))] to-[hsl(var(--searching)/0.8)];
    box-shadow: 0 0 25px hsl(var(--searching) / 0.6);
    transform: translateY(-6px) scale(1.08);
    animation: searchPulse 1s ease-in-out infinite;
  }
  
  .array-element.target {
    @apply bg-gradient-to-br from-[hsl(var(--target))] to-[hsl(var(--target)/0.8)];
    box-shadow: 0 0 30px hsl(var(--target) / 0.7);
    transform: translateY(-4px) scale(1.05);
    animation: targetGlow 1.5s ease-in-out infinite;
  }
  
  .array-element.found {
    @apply bg-gradient-to-br from-[hsl(var(--found))] to-[hsl(var(--found)/0.8)];
    box-shadow: 0 0 40px hsl(var(--found) / 0.8);
    transform: translateY(-8px) scale(1.15);
    animation: foundCelebration 0.8s ease-out;
  }
  
  .array-element.eliminated {
    @apply bg-gradient-to-br from-[hsl(var(--eliminated))] to-[hsl(var(--eliminated)/0.6)];
    @apply text-[hsl(var(--muted-foreground))] opacity-40;
    transform: scale(0.9);
    filter: blur(1px);
  }
  
  .array-element.bounds {
    @apply bg-gradient-to-br from-[hsl(var(--bounds))] to-[hsl(var(--bounds)/0.8)];
    box-shadow: 0 0 20px hsl(var(--bounds) / 0.5);
    border: 2px solid hsl(var(--bounds));
  }
  
  /* Control Button Styles */
  .control-button {
    @apply relative overflow-hidden;
    @apply bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary-glow))];
    @apply hover:from-[hsl(var(--primary-glow))] hover:to-[hsl(var(--primary))];
    @apply transition-all duration-300 ease-in-out;
    @apply hover:scale-105 hover:shadow-[var(--shadow-glow)];
  }
  
  .control-button:active {
    transform: scale(0.95);
  }
  
  /* Glass Card Effect */
  .glass-card {
    @apply bg-[hsl(var(--card)/0.7)] backdrop-blur-xl;
    @apply border border-[hsl(var(--card-border))];
    @apply shadow-[var(--shadow-card)];
  }
  
  /* Input Glow Effect */
  .input-glow:focus {
    box-shadow: 0 0 0 2px hsl(var(--ring) / 0.3), 0 0 20px hsl(var(--ring) / 0.2);
  }
}

@layer utilities {
  /* Custom animations */
  @keyframes pulse {
    0%, 100% { transform: translateY(-8px) scale(1.1); }
    50% { transform: translateY(-12px) scale(1.15); }
  }
  
  @keyframes slideIn {
    from { transform: translateX(-100%) scale(0.8); opacity: 0; }
    to { transform: translateX(0) scale(1); opacity: 1; }
  }
  
  @keyframes fadeInUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  /* Binary Search Animations */
  @keyframes searchPulse {
    0%, 100% { 
      transform: translateY(-6px) scale(1.08);
      box-shadow: 0 0 25px hsl(var(--searching) / 0.6);
    }
    50% { 
      transform: translateY(-8px) scale(1.12);
      box-shadow: 0 0 35px hsl(var(--searching) / 0.8);
    }
  }
  
  @keyframes targetGlow {
    0%, 100% { 
      box-shadow: 0 0 30px hsl(var(--target) / 0.7);
    }
    50% { 
      box-shadow: 0 0 50px hsl(var(--target) / 1);
    }
  }
  
  @keyframes foundCelebration {
    0% { 
      transform: translateY(-8px) scale(1.15);
    }
    25% { 
      transform: translateY(-15px) scale(1.25) rotate(5deg);
    }
    50% { 
      transform: translateY(-20px) scale(1.3) rotate(-5deg);
    }
    75% { 
      transform: translateY(-15px) scale(1.25) rotate(2deg);
    }
    100% { 
      transform: translateY(-8px) scale(1.15) rotate(0deg);
    }
  }
  
  @keyframes bounceIn {
    0% { transform: scale(0.3) translateY(-50px); opacity: 0; }
    50% { transform: scale(1.05) translateY(-10px); }
    70% { transform: scale(0.9) translateY(0); }
    100% { transform: scale(1) translateY(0); opacity: 1; }
  }
  
  .animate-slide-in {
    animation: slideIn 0.6s ease-out;
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.4s ease-out;
  }
  
  .animate-bounce-in {
    animation: bounceIn 0.8s ease-out;
  }
  
  /* Search bounds indicator */
  .search-bounds {
    @apply absolute -top-8 left-0 right-0 h-1;
    @apply bg-gradient-to-r from-[hsl(var(--bounds))] to-[hsl(var(--bounds)/0.6)];
    @apply rounded-full;
    box-shadow: 0 0 10px hsl(var(--bounds) / 0.5);
  }
}